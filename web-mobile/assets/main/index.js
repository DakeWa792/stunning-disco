System.register("chunks:///_virtual/FruitContrl.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(r){"use strict";var e,t,i,n,u,l,a,o,p,m;return{setters:[function(r){e=r.applyDecoratedDescriptor,t=r.inheritsLoose,i=r.initializerDefineProperty,n=r.assertThisInitialized,u=r.defineProperty},function(r){l=r.cclegacy,a=r._decorator,o=r.SpriteFrame,p=r.Sprite,m=r.Component}],execute:function(){var f,c,b,S,F,s,y,g,h,w,z,d,v,I,C,_,D,L,P,x,A,G,R,W,j,k,B,H,M,O,T,U,V,q,E;l._RF.push({},"9e2f5pxi7VDW7nOWh6Aw++h","FruitContrl",void 0);var J=a.ccclass,K=a.property;r("FruitContrl",(f=J("FruitContrl"),c=K(o),b=K(o),S=K(o),F=K(o),s=K(o),y=K(o),g=K(o),h=K(o),w=K(o),z=K(o),d=K(o),v=K(o),I=K(o),C=K(o),_=K(o),D=K(o),f((x=e((P=function(r){function e(){for(var e,t=arguments.length,l=new Array(t),a=0;a<t;a++)l[a]=arguments[a];return e=r.call.apply(r,[this].concat(l))||this,i(n(e),"fruitSpFrame1",x,n(e)),i(n(e),"fruitSpFrame2",A,n(e)),i(n(e),"fruitSpFrame3",G,n(e)),i(n(e),"fruitSpFrame4",R,n(e)),i(n(e),"fruitSpFrame5",W,n(e)),i(n(e),"fruitSpFrame6",j,n(e)),i(n(e),"fruitSpFrame7",k,n(e)),i(n(e),"fruitSpFrame8",B,n(e)),i(n(e),"numSpFrame1",H,n(e)),i(n(e),"numSpFrame2",M,n(e)),i(n(e),"numSpFrame3",O,n(e)),i(n(e),"numSpFrame4",T,n(e)),i(n(e),"numSpFrame5",U,n(e)),i(n(e),"numSpFrame6",V,n(e)),i(n(e),"numSpFrame7",q,n(e)),i(n(e),"numSpFrame8",E,n(e)),u(n(e),"fruitSprite",null),u(n(e),"numSprite",null),u(n(e),"fruitId",null),e}t(e,r);var l=e.prototype;return l.onLoad=function(){this.fruitSprite=this.node.getComponent(p),this.numSprite=this.node.children[0].getComponent(p)},l.start=function(){},l.IntiSelf=function(r){this.fruitId=r,this.fruitSprite.spriteFrame=this["fruitSpFrame"+r],this.numSprite.spriteFrame=this["numSpFrame"+r]},l.GetFruitId=function(){return this.fruitId},l.leveUp=function(){var r=this.fruitId;this.IntiSelf(r+1)},l.inGanger=function(r){},e}(m)).prototype,"fruitSpFrame1",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=e(P.prototype,"fruitSpFrame2",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=e(P.prototype,"fruitSpFrame3",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(P.prototype,"fruitSpFrame4",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=e(P.prototype,"fruitSpFrame5",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=e(P.prototype,"fruitSpFrame6",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(P.prototype,"fruitSpFrame7",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=e(P.prototype,"fruitSpFrame8",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(P.prototype,"numSpFrame1",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=e(P.prototype,"numSpFrame2",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=e(P.prototype,"numSpFrame3",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=e(P.prototype,"numSpFrame4",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=e(P.prototype,"numSpFrame5",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=e(P.prototype,"numSpFrame6",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=e(P.prototype,"numSpFrame7",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(P.prototype,"numSpFrame8",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=P))||L));l._RF.pop()}}}));

System.register("chunks:///_virtual/InGameCotrl.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var n,i,o,r,e,s,a,u,c,l,h,f;return{setters:[function(t){n=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.defineProperty,r=t.assertThisInitialized,e=t.initializerDefineProperty},function(t){s=t.cclegacy,a=t._decorator,u=t.Prefab,c=t.Enum,l=t.math,h=t.instantiate,f=t.Component}],execute:function(){var g,C,d,m,I;s._RF.push({},"ab952XD2ehKvqYqvG1ZFrHs","InGameCotrl",void 0);var p=a.ccclass,k=a.property;t("InGameCotrl",(g=p("InGameCotrl"),C=k(u),g((I=n((m=function(t){function n(){for(var n,i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return n=t.call.apply(t,[this].concat(s))||this,o(r(n),"InGameStage",c({NoChoosing:"NoChoosing",IsChoosing:"IsChoosing",IsMoving:"IsMoving",Wining:"Wining",Ending:"Ending"})),o(r(n),"curInGameStage",void 0),e(r(n),"fruitPrefab",I,r(n)),o(r(n),"round",0),o(r(n),"stickControl1",null),o(r(n),"stickControl2",null),o(r(n),"stickControl3",null),o(r(n),"stickControl4",null),o(r(n),"stickControl5",null),o(r(n),"stickControl6",null),o(r(n),"waitSwitchFruit",new Array),n}i(n,t);var s=n.prototype;return s.onLoad=function(){this.curInGameStage=this.InGameStage.NoChoosing},s.start=function(){var t;for(t=1;t<=6;t++)this["stick"+t]=this.node.getChildByName("Stick"+t),this["stickControl"+t]=this["stick"+t].getComponent("StickContrl"),this["stickControl"+t].Init(this.fruitPrefab);this.InitGui(!0)},s.calRandomBronId=function(t){var n=null;for(8==t&&(t=7);null==n;){l.randomRangeInt(1,100)<=30||1==t?n=t:t--}return n},s.completeRound=function(){if(this.round++,3==this.round){var t,n,i=1;for(t=1;t<=6;t++)i<this["stickControl"+t].maxFruit&&(i=this["stickControl"+t].maxFruit);for(n=1;n<=6;n++){var o=this.calRandomBronId(i),r=h(this.fruitPrefab);r.parent=this["stickControl"+n].node,r.getComponent("FruitContrl").IntiSelf(o),this["stickControl"+n].setBornFruit(r)}}else if(this.round>=4){var e;for(this.round=0,e=1;e<=6;e++)this["stickControl"+e].addBornFuit()}this.curInGameStage!=this.InGameStage.Ending&&this.initRound()},s.initRound=function(){var t;for(t=1;t<=6;t++)this["stickControl"+t].isChoosing=!1;this.curInGameStage=this.InGameStage.NoChoosing},s.getwaitSwitchFruit=function(t){this.waitSwitchFruit=t,this.curInGameStage=this.InGameStage.IsChoosing},s.InitGui=function(t){},s.winOne=function(){},s.endGameGui=function(){},n}(f)).prototype,"fruitPrefab",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=m))||d));s._RF.pop()}}}));

System.register("chunks:///_virtual/StickContrl.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var r,o,n,i,e,a,s,u,h,l,d;return{setters:[function(t){r=t.inheritsLoose,o=t.defineProperty,n=t.assertThisInitialized},function(t){i=t.cclegacy,e=t._decorator,a=t.Node,s=t.Tween,u=t.instantiate,h=t.Sprite,l=t.Color,d=t.Component}],execute:function(){var f;i._RF.push({},"bfc07jZ6kZLRIieCnn0tm6M","StickContrl",void 0);var g=e.ccclass;e.property,t("StickContrl",g("StickContrl")(f=function(t){function i(){for(var r,i=arguments.length,e=new Array(i),a=0;a<i;a++)e[a]=arguments[a];return r=t.call.apply(t,[this].concat(e))||this,o(n(r),"transNode",null),o(n(r),"bronNode",null),o(n(r),"bronFruit",null),o(n(r),"inGameNodeControl",null),o(n(r),"fruitPosArray",new Array),o(n(r),"fruitNodeArray",new Array),o(n(r),"isChoosing",!1),o(n(r),"isDangering",!1),o(n(r),"maxFruit",1),r}r(i,t);var e=i.prototype;return e.onLoad=function(){var t;for(this.inGameNodeControl=this.node.parent.getComponent("InGameCotrl"),this.transNode=this.node.getChildByName("TransNode"),this.bronNode=this.node.getChildByName("BronNode"),t=0;t<=7;t++){var r=this.node.getChildByName("FruitNode").getChildByName("FruitNode"+(t+1));this.fruitPosArray[t]=r}},e.start=function(){var t=this;this.node.on(a.EventType.TOUCH_START,(function(r){if(t.inGameNodeControl.curInGameStage!=t.inGameNodeControl.InGameStage.NoChoosing||t.isChoosing){if(t.inGameNodeControl.curInGameStage==t.inGameNodeControl.InGameStage.IsChoosing&&!t.isChoosing){var o=new Array;(o=t.inGameNodeControl.waitSwitchFruit).length>0&&(t.inGameNodeControl.curInGameStage=t.inGameNodeControl.InGameStage.IsMoving,t.moveOtherFruit(o))}}else{t.inGameNodeControl.curInGameStage=t.inGameNodeControl.InGameStage.IsMoving,t.isChoosing=!0;var n=new Array,i=t.fruitNodeArray.length;if(i<1)return;n[0]=t.fruitNodeArray[i-1];var e,a=n[0].getComponent("FruitContrl").GetFruitId();for(e=1;e<=i-1;e++){if(t.fruitNodeArray[i-1-e].getComponent("FruitContrl").GetFruitId()!=a)break;n[e]=t.fruitNodeArray[i-1-e]}var u,h=n.length;for(t.fruitNodeArray.pop(),u=h-2;u>=0;u--)n[u].setParent(n[h-1],!0),t.fruitNodeArray.pop();new s(n[h-1]).to(.5,{position:t.transNode.position}).call((function(){t.inGameNodeControl.getwaitSwitchFruit(n)})).start()}}))},e.Init=function(t){var r;for(r=0;r<=1;r++){var o=u(t);o.parent=this.node;var n=this.fruitNodeArray.push(o);o.getComponent("FruitContrl").IntiSelf(1),o.setPosition(this.fruitPosArray[n-1].getPosition()),this.fruitNodeArray[n-1]=o}},e.setBornFruit=function(t){if(null==this.bronFruit){this.bronFruit=t,this.bronFruit.parent=this.node,this.bronFruit.setPosition(this.bronNode.position);var r=this.bronFruit.getComponent(h).color;this.bronFruit.getComponent(h).color=new l(r.r,r.g,r.b,150)}},e.addBornFuit=function(){var t=this;if(null!=this.bronFruit){var r=this.bronFruit.getComponent(h).color;this.bronFruit.getComponent(h).color=new l(r.r,r.g,r.b,255);var o=new s(this.bronFruit),n=this.fruitNodeArray.length,i=this.fruitPosArray[n];o.to(.3,{position:i.position}).call((function(){t.combineFruit(new Array(t.bronFruit)),t.bronFruit=null})).start()}},e.moveOtherFruit=function(t){var r=this,o=t.length;t[o-1].setParent(this.node,!0);var n=new s(t[o-1]),i=this.fruitNodeArray.length,e=this.fruitPosArray[i];n.to(.2,{position:this.transNode.position}).to(.3,{position:e.position}).call((function(){r.combineFruit(t),r.inGameNodeControl.getComponent("InGameCotrl").completeRound()})).start()},e.combineFruit=function(t){var r,o=new Array;for(r in o=t.reverse())o[r].setParent(this.node,!0);this.fruitNodeArray=this.fruitNodeArray.concat(o);for(var n=!0;n;)n=this.calcCombine();this.fruitNodeArray.length<8?this.isDangering&&this.changeDanger(!1):8==this.fruitNodeArray.length?this.isDangering||this.changeDanger(!0):this.fruitNodeArray.length>8&&this.inGameNodeControl.getComponent("InGameCotrl").endGameGui(),this.refreshMaxFruit()},e.calcCombine=function(){var t,r=this,o=0,n=this.fruitNodeArray.length,i=this.fruitNodeArray[n-1].getComponent("FruitContrl").GetFruitId();for(t=n-1;t>=0&&this.fruitNodeArray[t].getComponent("FruitContrl").GetFruitId()==i;t--)o++;if(o>=3){if(8!=i){var e,a=this.fruitNodeArray.length;for(e=a-1;e>=a-o;e--)e!=a-o&&function(){var t=r.fruitNodeArray.pop();new s(t).to(.1,{position:r.fruitNodeArray[a-o].position}).call((function(){t.destroy()})).start()}();this.fruitNodeArray[this.fruitNodeArray.length-1].getComponent("FruitContrl").leveUp()}else{var u,h=this.fruitNodeArray.length;for(u=h-1;u>=h-o;u--){var l=this.fruitNodeArray[u];this.fruitNodeArray.pop(),l.destroy()}this.inGameNodeControl.getComponent("InGameCotrl").winOne()}return!0}return!1},e.takeoutFruit=function(){},e.changeDanger=function(t){this.isDangering=t},e.refreshMaxFruit=function(){var t,r=1;for(t=0;t<=this.fruitNodeArray.length-1;t++){var o=this.fruitNodeArray[t].getComponent("FruitContrl").GetFruitId();r<o&&(r=o)}this.maxFruit=r},i}(d))||f);i._RF.pop()}}}));

System.register("chunks:///_virtual/GameCotrl.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,a,n,i,o,r,s,u,c,S;return{setters:[function(t){e=t.inheritsLoose,a=t.defineProperty,n=t.assertThisInitialized},function(t){i=t.cclegacy,o=t._decorator,r=t.Tween,s=t.Vec3,u=t.Node,c=t.Enum,S=t.Component}],execute:function(){var l;i._RF.push({},"d804a9NvC5Gybfn63HEVKIO","GameCotrl",void 0);var h=o.ccclass;o.property,t("GameCotrl",h("GameCotrl")(l=function(t){function i(){for(var e,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return e=t.call.apply(t,[this].concat(o))||this,a(n(e),"GameStage",c({StartStage:"StartStage",InGameStage:"InGameStage",EndGame:"EndGame"})),a(n(e),"curGameStage",null),a(n(e),"StartButton",null),a(n(e),"InGameNode",null),e}e(i,t);var o=i.prototype;return o.start=function(){this.curGameStage=this.GameStage.StartStage,this.StartButton=this.node.getChildByName("StartButton"),this.InGameNode=this.node.parent.getChildByName("InGame"),console.log(this.StartButton),this.InitStartGui()},o.StartGame=function(){this.curGameStage==this.GameStage.StartStage&&(this.curGameStage=this.GameStage.InGameStage,this.HideStartGui(),this.InGameNode.active=!0)},o.HideStartGui=function(){var t=this;new r(this.StartButton).to(.2,{position:new s(0,-570,0)},{easing:"sineIn"}).call((function(){t.StartButton.off(u.EventType.MOUSE_DOWN),t.StartButton.active=!1})).start()},o.InitStartGui=function(){var t=this;this.StartButton.setPosition(new s(0,-570,0)),this.StartButton.active||(this.StartButton.active=!0),new r(this.StartButton).to(.5,{position:new s(0,-250,0)},{easing:"bounceOut"}).call((function(){t.StartButton.on(u.EventType.TOUCH_START,(function(e){t.StartGame()}))})).start()},i}(S))||l);i._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./FruitContrl.ts","./InGameCotrl.ts","./StickContrl.ts","./GameCotrl.ts"],(function(){"use strict";return{setters:[null,null,null,null],execute:function(){}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});