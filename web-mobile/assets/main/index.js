System.register("chunks:///_virtual/CameraCtrl.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,n,o,s,i,r,a,l;return{setters:[function(e){t=e.inheritsLoose,n=e.defineProperty,o=e.assertThisInitialized},function(e){s=e.cclegacy,i=e._decorator,r=e.UITransform,a=e.Vec3,l=e.Component}],execute:function(){var h;s._RF.push({},"085bbTGOW1ApYRTvzklbuxr","CameraCtrl",void 0);var c=i.ccclass;i.property,e("CameraCtrl",c("CameraCtrl")(h=function(e){function s(){for(var t,s=arguments.length,i=new Array(s),r=0;r<s;r++)i[r]=arguments[r];return t=e.call.apply(e,[this].concat(i))||this,n(o(t),"playerTransfor",null),n(o(t),"transform",null),n(o(t),"camera",null),n(o(t),"bgNode",null),n(o(t),"ScreenNode",null),n(o(t),"seaNode",null),n(o(t),"isInGame",!1),t}t(s,e);var i=s.prototype;return i.enterGame=function(e){this.playerTransfor=this.node.parent.getChildByName("Player").getChildByName("Human").getComponent(r),this.transform=this.node.parent.getComponent(r),this.bgNode=this.node.parent.getChildByName("Bg"),this.ScreenNode=this.node.parent.getChildByName("ScreenGui"),this.seaNode=this.node.parent.getChildByName("Sea");var t=this.transform.convertToNodeSpaceAR(new a(e.x,e.y,0));this.node.setPosition(new a(t.x,t.y,1e3)),this.bgNode.setPosition(new a(t.x,t.y,0)),this.ScreenNode.setPosition(new a(t.x,t.y,0)),this.seaNode.setPosition(new a(t.x,-433,0)),this.isInGame=!0},i.leaveGame=function(){this.isInGame=!1,this.node.setPosition(new a(0,0,1e3)),this.bgNode.setPosition(new a(0,0,0)),this.ScreenNode.setPosition(new a(0,0,0)),this.seaNode.setPosition(new a(0,-433,0))},i.closeUpdate=function(){this.isInGame=!1},i.update=function(e){if(this.playerTransfor&&this.isInGame){var t=this.playerTransfor.convertToWorldSpaceAR(new a(0,0,0)),n=this.transform.convertToNodeSpaceAR(t);this.node.setPosition(new a(n.x,n.y,1e3)),this.bgNode.setPosition(new a(n.x,n.y,0)),this.ScreenNode.setPosition(new a(n.x,n.y,0)),this.seaNode.setPosition(new a(n.x,-433,0))}},s}(l))||h);s._RF.pop()}}}));

System.register("chunks:///_virtual/shopItemCtrl.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./CustomEventListener.ts"],(function(e){"use strict";var t,i,n,o,r,c,s,a,l,u,p,h,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized,r=e.defineProperty},function(e){c=e.cclegacy,s=e._decorator,a=e.SpriteFrame,l=e.Sprite,u=e.Node,p=e.Component},function(e){h=e.Constants},function(e){f=e.CustomEventListener}],execute:function(){var d,v,C,b,N,g,k,m,T,y,E,I,w;c._RF.push({},"0cf28YXKe1OW6A4ujN6PHf2","shopItemCtrl",void 0);var S=s.ccclass,z=s.property;e("shopItemCtrl",(d=S("shopItemCtrl"),v=z([a]),C=z(l),b=z(u),N=z(u),g=z(u),d((T=t((m=function(e){function t(){for(var t,i=arguments.length,c=new Array(i),s=0;s<i;s++)c[s]=arguments[s];return t=e.call.apply(e,[this].concat(c))||this,n(o(t),"icon",T,o(t)),n(o(t),"iconSpr",y,o(t)),n(o(t),"lockNode",E,o(t)),n(o(t),"getNode",I,o(t)),n(o(t),"useNode",w,o(t)),r(o(t),"isUnlock",!1),r(o(t),"weaponTag",null),r(o(t),"isEnquiped",!1),r(o(t),"isCanClick",!0),t}i(t,e);var c=t.prototype;return c.onLoad=function(){},c.onEnable=function(){this.node.on(u.EventType.TOUCH_START,this.beClick,this)},c.onDisable=function(){this.node.off(u.EventType.TOUCH_START,this.beClick,this)},c.initTag=function(e){this.weaponTag=e,this.iconSpr.spriteFrame=this.icon[e],this.useNode.active=!1,this.getNode.active=!1,this.lockNode.active=!0},c.isGetWeapon=function(e){e?(this.getNode.active=!0,this.lockNode.active=!1,this.isUnlock=!0):(this.getNode.active=!1,this.lockNode.active=!0)},c.useWeapon=function(e){this.useNode.active=e,this.isEnquiped=e},c.canClick=function(e){this.isCanClick=e},c.beClick=function(){console.log("can be click"),this.isCanClick&&(console.log("isCanClick"),this.isUnlock?this.isEnquiped?f.dispatchEvent(h.EventName.TINYTIP,"无法取消装备,你想空手爬么"):f.dispatchEvent(h.EventName.USEWEAPICON,this.weaponTag):f.dispatchEvent(h.EventName.TINYTIP,"你无法装备尚未解锁的锤子"))},t}(p)).prototype,"icon",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=t(m.prototype,"iconSpr",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(m.prototype,"lockNode",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(m.prototype,"getNode",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(m.prototype,"useNode",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=m))||k));c._RF.pop()}}}));

System.register("chunks:///_virtual/tinyTipCtrl.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var n,o,i,e,s,r,c,a,l,h;return{setters:[function(t){n=t.inheritsLoose,o=t.defineProperty,i=t.assertThisInitialized},function(t){e=t.cclegacy,s=t._decorator,r=t.Label,c=t.Color,a=t.Tween,l=t.Vec3,h=t.Component}],execute:function(){var p;e._RF.push({},"0eb20kYv89HsLmPFX4npW4Q","tinyTipCtrl",void 0);var u=s.ccclass;s.property,t("tinyTipCtrl",u("tinyTipCtrl")(p=function(t){function e(){for(var n,e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];return n=t.call.apply(t,[this].concat(s))||this,o(i(n),"contLab",null),o(i(n),"isShowing",!1),o(i(n),"moveTween",null),o(i(n),"colorTween",null),n}n(e,t);var s=e.prototype;return s.onLoad=function(){this.contLab=this.node.getComponent(r)},s.show=function(t){var n=this;this.isShowing&&this.init(),this.isShowing=!0,this.contLab.string=t,this.contLab.color=new c(0,0,0,255),this.contLab.enabled=!0,this.moveTween=new a(this.node),this.moveTween.to(3,{position:new l(0,250,0)}).call((function(){n.init(),n.node.active=!1})).start();var o=new c(0,0,0,255);this.colorTween=new a(o);var i=this.contLab;this.colorTween.to(3,{r:255,g:255,b:255,a:50},{onUpdate:function(t){i.color=t}}).start()},s.init=function(){console.log("init tiny tip"),this.moveTween.stop(),this.colorTween.stop(),this.isShowing=!1,this.contLab.string="",this.contLab.enabled=!1,this.node.position=new l(0,0,0),this.contLab.color=new c(255,255,255,255)},e}(h))||p);e._RF.pop()}}}));

System.register("chunks:///_virtual/CustomEventListener.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,n,r,i,s;return{setters:[function(t){e=t.defineProperty,n=t.inheritsLoose},function(t){r=t.cclegacy,i=t._decorator,s=t.Component}],execute:function(){var a,o,u;r._RF.push({},"0ec56ULi/BIWaBEiq0u+O7G","CustomEventListener",void 0);var c=i.ccclass;i.property,t("CustomEventListener",c("CustomEventListener")((u=o=function(t){function e(){return t.apply(this,arguments)||this}return n(e,t),e.on=function(t,e,n){this.handle[t]||(this.handle[t]=[]);var r={func:e,target:n};this.handle[t].push(r)},e.off=function(t,e,n){var r=this.handle[t];if(r&&!(r.length<=0))for(var i=0;i<r.length;i++){var s=r[i];if(s.func===e&&(!n||n===s.target)){r.splice(i,1);break}}},e.dispatchEvent=function(t){var e=this.handle[t];if(e&&!(e.length<=0)){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var s=0;s<e.length;s++){var a=e[s];a.func.apply(a.target,r)}}},e}(s),e(o,"handle",{}),a=u))||a);r._RF.pop()}}}));

System.register("chunks:///_virtual/SavePointCtrl.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./CustomEventListener.ts","./GameData.ts"],(function(t){"use strict";var e,i,n,o,s,a,r,l,v,c,g,h,u,C;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized,s=t.defineProperty},function(t){a=t.cclegacy,r=t._decorator,l=t.RigidBody2D,v=t.BoxCollider2D,c=t.Contact2DType,g=t.Component},function(t){h=t.Constants},function(t){u=t.CustomEventListener},function(t){C=t.RunTimeData}],execute:function(){var p,S,d,T,f;a._RF.push({},"17203j/PP1FQJL2cRvRT85g","SavePointCtrl",void 0);var P=r.ccclass,m=r.property;t("SavePointCtrl",(p=P("SavePointCtrl"),S=m(Number),p((f=e((T=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return e=t.call.apply(t,[this].concat(a))||this,n(o(e),"saveTag",f,o(e)),s(o(e),"isTrigger",!1),s(o(e),"isSaved",!1),e}i(e,t);var a=e.prototype;return a.onEnable=function(){this.node.getComponent(l).enabledContactListener=!0,this.node.getComponent(v).on(c.BEGIN_CONTACT,this.enterSavePoint,this),this.node.getComponent(v).on(c.END_CONTACT,this.leaveSavePoint,this),u.on(h.VideoEvent.SAVEPOINTSUC,this.savePointSucess,this)},a.onDisable=function(){this.node.getComponent(l).enabledContactListener=!1,this.isTrigger=!1,this.isSaved=!1,this.node.getComponent(v).off(c.BEGIN_CONTACT,this.enterSavePoint,this),this.node.getComponent(v).off(c.END_CONTACT,this.leaveSavePoint,this),u.off(h.VideoEvent.SAVEPOINTSUC,this.savePointSucess,this)},a.enterSavePoint=function(t,e,i){console.log("SavePointCtrl"),console.log(e.tag),console.log(this.isTrigger),console.log(this.isSaved),1!=e.tag||this.isTrigger||this.isSaved||(console.log("SavePointCtrl"),this.isTrigger=!0,C.instance().playerData.saverevivePoint(this.saveTag),this.isSaved=!0)},a.leaveSavePoint=function(t,e,i){1==e.tag&&this.isTrigger&&(this.isTrigger=!1)},a.savePointSucess=function(t){t!=this.saveTag||this.isSaved||(C.instance().playerData.saverevivePoint(this.saveTag),this.isSaved=!0)},e}(g)).prototype,"saveTag",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=T))||d));a._RF.pop()}}}));

System.register("chunks:///_virtual/EndPointCtrl.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./CustomEventListener.ts"],(function(t){"use strict";var n,e,i,o,s,r,a,c,d,u,h;return{setters:[function(t){n=t.inheritsLoose,e=t.defineProperty,i=t.assertThisInitialized},function(t){o=t.cclegacy,s=t._decorator,r=t.RigidBody2D,a=t.BoxCollider2D,c=t.Contact2DType,d=t.Component},function(t){u=t.Constants},function(t){h=t.CustomEventListener}],execute:function(){var l;o._RF.push({},"25077owHBhMJ6szttRV5g9N","EndPointCtrl",void 0);var E=s.ccclass;s.property,t("EndPointCtrl",E("EndPointCtrl")(l=function(t){function o(){for(var n,o=arguments.length,s=new Array(o),r=0;r<o;r++)s[r]=arguments[r];return n=t.call.apply(t,[this].concat(s))||this,e(i(n),"isTrigger",!1),n}n(o,t);var s=o.prototype;return s.onEnable=function(){this.isTrigger=!1,this.node.getComponent(r).enabledContactListener=!0,this.node.getComponent(a).on(c.BEGIN_CONTACT,this.enterEndPoint,this)},s.onDisable=function(){this.node.getComponent(r).enabledContactListener=!1,this.node.getComponent(a).off(c.BEGIN_CONTACT,this.enterEndPoint,this)},s.enterEndPoint=function(t,n,e){if(1==n.tag&&!this.isTrigger){h.dispatchEvent(u.EventName.PAUESEGAME);var i=5;this.schedule((function(){var t="恭喜你达到终点，将在"+i+"秒后结束游戏";i--,h.dispatchEvent(u.EventName.TINYTIP,t),i<=-1&&(this.isTrigger=!0,h.dispatchEvent(u.EventName.ENDGAME))}),1,5)}},o}(d))||l);o._RF.pop()}}}));

System.register("chunks:///_virtual/scoreCtrl.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./GameData.ts"],(function(t){"use strict";var e,i,a,r,s,n,o,l,u,h,c,m;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,a=t.initializerDefineProperty,r=t.assertThisInitialized,s=t.defineProperty},function(t){n=t.cclegacy,o=t._decorator,l=t.Label,u=t.find,h=t.macro,c=t.Component},function(t){m=t.RunTimeData}],execute:function(){var p,f,y,T,b,g,v;n._RF.push({},"34ab838oq5BraYaicH97/2a","scoreCtrl",void 0);var D=o.ccclass,d=o.property;t("scoreCtrl",(p=D("scoreCtrl"),f=d(l),y=d(l),p((g=e((b=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return e=t.call.apply(t,[this].concat(n))||this,a(r(e),"timeLb",g,r(e)),a(r(e),"heightLb",v,r(e)),s(r(e),"player",null),s(r(e),"startTime",null),s(r(e),"height",0),s(r(e),"isInGame",!1),s(r(e),"isPauseing",!1),s(r(e),"_runTimeData",null),e}i(e,t);var n=e.prototype;return n.onEnable=function(){this.player=u("Canvas/Player"),this._runTimeData=m.instance(),this.startTime=this._runTimeData.gameTime,this.schedule(this.saveScore,1,h.REPEAT_FOREVER)},n.saveScore=function(){this.player&&(this.isInGame=!0,this.updateTime(),this.heightLb.string="Height:"+Math.floor((this.player.position.y+500)/10),this._runTimeData.playerData.savePlayePos(this.player.position))},n.pauseGame=function(t){this.isPauseing=t},n.updateTime=function(){if(this.isInGame&&!this.isPauseing){this.startTime++;var t=Math.floor(this.startTime/3600),e=Math.floor((this.startTime-3600*t)/60),i=this.startTime-3600*t-60*e;this.timeLb.string=(t<10?"0"+t:t)+":"+(e<10?"0"+e:e)+":"+(i<10?"0"+i:i),this._runTimeData.playerData.saveGameTime(this.startTime)}},n.onDisable=function(){this.isInGame=!1,this.unschedule(this.saveScore)},e}(c)).prototype,"timeLb",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=e(b.prototype,"heightLb",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=b))||T));n._RF.pop()}}}));

System.register("chunks:///_virtual/chooseTipCtrl.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./CustomEventListener.ts"],(function(t){"use strict";var e,n,o,i,s,r,c,h,l;return{setters:[function(t){e=t.inheritsLoose,n=t.defineProperty,o=t.assertThisInitialized},function(t){i=t.cclegacy,s=t._decorator,r=t.Button,c=t.Label,h=t.Component},function(t){l=t.CustomEventListener}],execute:function(){var u;i._RF.push({},"37681+JpK9FY4T5TmiohXZc","chooseTipCtrl",void 0);var a=s.ccclass;s.property,t("chooseTipCtrl",a("chooseTipCtrl")(u=function(t){function i(){for(var e,i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return e=t.call.apply(t,[this].concat(s))||this,n(o(e),"agreeBtn",null),n(o(e),"refuseBtn",null),n(o(e),"contextLb",null),n(o(e),"agereeEvent",null),e}e(i,t);var s=i.prototype;return s.onLoad=function(){this.agreeBtn=this.node.children[1].getComponent(r),this.refuseBtn=this.node.children[2].getComponent(r),this.contextLb=this.node.children[3].children[0].getComponent(c)},s.init=function(t,e){this.contextLb.string=t,this.agereeEvent=e,this.agreeBtn.node.on(r.EventType.CLICK,this.confirm,this),this.refuseBtn.node.on(r.EventType.CLICK,this.close,this)},s.confirm=function(){l.dispatchEvent(this.agereeEvent),this.close()},s.close=function(){this.node.active=!1},s.onDisable=function(){this.contextLb.string="",this.agereeEvent=null,this.agreeBtn.node.off(r.EventType.CLICK,this.confirm,this),this.refuseBtn.node.off(r.EventType.CLICK,this.close,this)},i}(h))||u);i._RF.pop()}}}));

System.register("chunks:///_virtual/shopGuiCtrl.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./CustomEventListener.ts","./shopItemCtrl.ts","./GameData.ts"],(function(e){"use strict";var t,o,n,i,a,r,s,h,c,u,l,p,m,f,d,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized,a=e.defineProperty},function(e){r=e.cclegacy,s=e._decorator,h=e.Node,c=e.Prefab,u=e.instantiate,l=e.randomRangeInt,p=e.Component},function(e){m=e.Constants},function(e){f=e.CustomEventListener},function(e){d=e.shopItemCtrl},function(e){g=e.RunTimeData}],execute:function(){var y,T,w,I,v,N,C,W,b,E,G,A,_,S,U,z,k,O,R;r._RF.push({},"40368tiilhLMJPqkPUi3o1J","shopGuiCtrl",void 0);var P=s.ccclass,D=s.property;e("shopGuiCtrl",(y=P("shopGuiCtrl"),T=D(h),w=D(h),I=D(h),v=D(c),N=D(h),C=D(h),W=D(h),b=D(d),y((A=t((G=function(e){function t(){for(var t,o=arguments.length,r=new Array(o),s=0;s<o;s++)r[s]=arguments[s];return t=e.call.apply(e,[this].concat(r))||this,n(i(t),"shopNode",A,i(t)),n(i(t),"getItemNode",_,i(t)),n(i(t),"showItemNode",S,i(t)),n(i(t),"shopChuizi",U,i(t)),a(i(t),"isOpenGetGui",!1),n(i(t),"choose_btn",z,i(t)),n(i(t),"close_Shop",k,i(t)),n(i(t),"close_getGui",O,i(t)),n(i(t),"curGetItem",R,i(t)),a(i(t),"curEquoedWeapTag",null),a(i(t),"ownWeaponTagArray",new Array),t}o(t,e);var r=t.prototype;return r.onLoad=function(){},r.onEnable=function(){this.ownWeaponTagArray=[],this.ownWeaponTagArray=g.instance().ownWeapon,this.checkAndShowAllWeapons(),this.close_Shop.on(h.EventType.TOUCH_START,this.closeShop,this),this.choose_btn.on(h.EventType.TOUCH_START,this.watchVideo,this),f.on(m.EventName.USEWEAPICON,this.switchUseWeapon,this)},r.onDisable=function(){this.getItemNode.active&&(this.getItemNode.active=!1),this.close_Shop.off(h.EventType.TOUCH_START,this.closeShop,this),this.choose_btn.off(h.EventType.TOUCH_START,this.watchVideo,this),f.off(m.EventName.USEWEAPICON,this.switchUseWeapon,this)},r.checkAndShowAllWeapons=function(){var e,t=this;for(e=0;e<m.WeaponsNum;e++){var o="hammerIcon"+e,n=this.showItemNode.getChildByName(o);n||((n=u(this.shopChuizi)).name="hammerIcon"+e,n.parent=this.showItemNode),n.getComponent(d).initTag(e)}this.ownWeaponTagArray.forEach((function(e){var o="hammerIcon"+e,n=t.showItemNode.getChildByName(o);if(n){var i=n.getComponent(d);i.isGetWeapon(!0),i.canClick(!0)}}));var i=g.instance().euipedWeapon,a="hammerIcon"+i,r=this.showItemNode.getChildByName(a);r&&r.getComponent(d).useWeapon(!0);this.curEquoedWeapTag=i},r.randomUnlock=function(){this.ownWeaponTagArray.length>=m.WeaponsNum&&f.dispatchEvent(m.EventName.TINYTIP,"你已经拥有了所有武器!");var e,t=new Array;for(e=0;e<m.WeaponsNum;e++)t[e]=0;this.ownWeaponTagArray.forEach((function(e){t[e]=1}));var o=new Array;t.forEach((function(e,t){1!=e&&o.push(t)}));var n=l(0,o.length-1),i=o[n];this.showGetItemNode(i),this.unlockWeapon(i)},r.unlockWeapon=function(e){this.ownWeaponTagArray.push(e),g.instance().playerData.saveOwnWeapon(e);var t="hammerIcon"+e,o=this.showItemNode.getChildByName(t);if(o){var n=o.getComponent(d);n.isGetWeapon(!0),n.canClick(!0)}},r.switchUseWeapon=function(e){var t="hammerIcon"+this.curEquoedWeapTag,o=this.showItemNode.getChildByName(t);o&&o.getComponent(d).useWeapon(!1);var n="hammerIcon"+e,i=this.showItemNode.getChildByName(n);i&&(i.getComponent(d).useWeapon(!0),this.curEquoedWeapTag=e,g.instance().playerData.saveEuipedWeap(e))},r.showGetItemNode=function(e){this.curGetItem.canClick(!1),this.curGetItem.initTag(e),this.curGetItem.isGetWeapon(!0),this.getItemNode.active=!0,this.close_getGui.on(h.EventType.TOUCH_START,this.closeGetItemNode,this)},r.closeGetItemNode=function(){this.getItemNode.active=!1,this.close_getGui.off(h.EventType.TOUCH_START,this.closeGetItemNode,this)},r.watchVideo=function(){this.randomUnlock()},r.closeShop=function(){this.node.active=!1},t}(p)).prototype,"shopNode",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(G.prototype,"getItemNode",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=t(G.prototype,"showItemNode",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(G.prototype,"shopChuizi",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(G.prototype,"choose_btn",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(G.prototype,"close_Shop",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(G.prototype,"close_getGui",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(G.prototype,"curGetItem",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=G))||E));r._RF.pop()}}}));

System.register("chunks:///_virtual/postion.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var o,e,n,s,i,r,a,c,h,l,p,u;return{setters:[function(t){o=t.inheritsLoose,e=t.defineProperty,n=t.assertThisInitialized},function(t){s=t.cclegacy,i=t._decorator,r=t.UITransform,a=t.Camera,c=t.input,h=t.Input,l=t.Node,p=t.Vec3,u=t.Component}],execute:function(){var d;s._RF.push({},"4e272UD+UNGzYFh9YUnSh5l","postion",void 0);var f=i.ccclass;i.property,t("postion",f("postion")(d=function(t){function s(){for(var o,s=arguments.length,i=new Array(s),r=0;r<s;r++)i[r]=arguments[r];return o=t.call.apply(t,[this].concat(i))||this,e(n(o),"isOffset",!1),e(n(o),"spNode",null),e(n(o),"caNode",null),e(n(o),"camera",null),e(n(o),"canTransform",null),o}o(s,t);var i=s.prototype;return i.start=function(){},i.onEnable=function(){this.canTransform=this.node.parent.getComponent(r),this.spNode=this.node.parent.getChildByName("Sprite"),this.caNode=this.node.parent.getChildByName("Camera"),this.camera=this.caNode.getComponent(a),c.on(h.EventType.MOUSE_MOVE,this.moveMouse,this),this.spNode.on(l.EventType.TOUCH_START,this.switch,this)},i.moveMouse=function(t){var o=t.getUILocation();console.log(o),console.log(new p(o.x-480+this.caNode.worldPosition.x,o.y-320+this.caNode.worldPosition.y,0)),console.log(this.node.worldPosition)},i.switch=function(){this.isOffset?(this.caNode.position=new p(0,0,1e3),this.isOffset=!1):(this.caNode.position=new p(480,0,1e3),this.isOffset=!0)},s}(u))||d);s._RF.pop()}}}));

System.register("chunks:///_virtual/Test.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,r,n,s;return{setters:[function(t){e=t.inheritsLoose},function(t){r=t.cclegacy,n=t._decorator,s=t.Component}],execute:function(){var o;r._RF.push({},"4f05cGaKF9K15xmGA0Z42NO","Test",void 0);var c=n.ccclass;n.property,t("Test",c("Test")(o=function(t){function r(){return t.apply(this,arguments)||this}return e(r,t),r.prototype.start=function(){},r}(s))||o);r._RF.pop()}}}));

System.register("chunks:///_virtual/Main.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./CameraCtrl.ts","./Constants.ts","./CustomEventListener.ts","./Configuration.ts","./GameData.ts","./scoreCtrl.ts","./InGameScreen.ts","./PlayerCtrl.ts","./StartScreen.ts"],(function(e){"use strict";var t,a,n,i,r,s,o,l,c,h,u,m,p,d,f,v,C,G,N,y,E;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.inheritsLoose,n=e.defineProperty,i=e.assertThisInitialized,r=e.initializerDefineProperty},function(e){s=e.cclegacy,o=e._decorator,l=e.Vec2,c=e.Node,h=e.UITransform,u=e.Component},function(e){m=e.CameraCtrl},function(e){p=e.Constants},function(e){d=e.CustomEventListener},function(e){f=e.Configuration},function(e){v=e.RunTimeData,C=e.PlayerData},function(e){G=e.scoreCtrl},function(e){N=e.InGameScreen},function(e){y=e.PlayerCtrl},function(e){E=e.StartScreen}],execute:function(){var S,_,g,A,b,w,P,M,D,R,B;s._RF.push({},"4fde5fAR21FA7Z1eRw0SaSI","Main",void 0);var I=o.ccclass,T=o.property,L=new l(-110,-115);e("Main",(S=I("Main"),_=T(E),g=T(N),A=T(c),b=T(G),S((M=t((P=function(e){function t(){for(var t,a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return t=e.call.apply(e,[this].concat(s))||this,n(i(t),"player",null),n(i(t),"playerCtrl",null),n(i(t),"main_camear",null),n(i(t),"cameraCtrl",null),r(i(t),"start_Screen",M,i(t)),r(i(t),"inGame_Screen",D,i(t)),r(i(t),"saveNode",R,i(t)),r(i(t),"score_Ctrl",B,i(t)),n(i(t),"sceneNode",null),n(i(t),"seaNode",null),n(i(t),"showBullNode",null),n(i(t),"playerPosition",L),n(i(t),"_runtimeData",null),t}a(t,e);var s=t.prototype;return s.onLoad=function(){this.player=this.node.getChildByName("Player"),this.playerCtrl=this.player.getComponent(y),this.main_camear=this.node.getChildByName("Camera"),this.cameraCtrl=this.main_camear.getComponent(m),this.sceneNode=this.node.getChildByName("Scene"),this.seaNode=this.node.getChildByName("Sea"),this.showBullNode=this.node.getChildByName("ShowScreen")},s.onEnable=function(){d.on(p.EventName.ENTERGAME,this.enterGame,this),d.on(p.EventName.PAUESEGAME,this.pauseGame,this),d.on(p.EventName.RESTARTGAME,this.restartGame,this),d.on(p.EventName.ENDGAME,this.endGame,this)},s.onDisable=function(){d.off(p.EventName.ENTERGAME,this.enterGame,this),d.off(p.EventName.PAUESEGAME,this.pauseGame,this),d.off(p.EventName.RESTARTGAME,this.restartGame,this),d.off(p.EventName.ENDGAME,this.endGame,this)},s.start=function(){this.initGame()},s.initGame=function(){this.start_Screen.node.active=!0,this.player.active=!1,this.sceneNode.active=!1,this.seaNode.active=!1,this.showBullNode.active=!1,this._runtimeData=v.instance(),f.instance().init(),C.instance().loadFromCache()},s.enterGame=function(){var e=this._runtimeData.curPosition;this.player.active=!0,this.sceneNode.active=!0,this.seaNode.active=!0,this.showBullNode.active=!0,this.start_Screen.node.active=!1,this.inGame_Screen.node.active=!0,this.playerCtrl.eneterGame(e),this.cameraCtrl.enterGame(e),this.playerCtrl.openOperate(),this.score_Ctrl.pauseGame(!1)},s.restartGame=function(){this.start_Screen.node.active=!0,this.inGame_Screen.node.active=!1,this.playerCtrl.node.active=!1,this.sceneNode.active=!1,this.seaNode.active=!1,this.showBullNode.active=!1,this.playerCtrl.restartGame(L),this.cameraCtrl.leaveGame(),C.instance().recoverPlayerInfo()},s.pauseGame=function(){this.score_Ctrl.pauseGame(!0),this.playerCtrl.closeOperate(),this.cameraCtrl.closeUpdate()},s.revivalGame=function(){var e=L,t=v.instance().revivePoint;if(t>0){var a=this.saveNode[t-1].worldPosition;e=this.node.getComponent(h).convertToNodeSpaceAR(a)}this.playerCtrl.restartGame(e),this.cameraCtrl.enterGame(e),d.dispatchEvent(p.EventName.CLOSEFAILGUI),this.playerCtrl.openOperate(),this.score_Ctrl.pauseGame(!1)},s.endGame=function(){this.playerCtrl.closeOperate(),this.cameraCtrl.closeUpdate(),d.dispatchEvent(p.EventName.SHOWWINGUI)},t}(u)).prototype,"start_Screen",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(P.prototype,"inGame_Screen",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(P.prototype,"saveNode",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(P.prototype,"score_Ctrl",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=P))||w));s._RF.pop()}}}));

System.register("chunks:///_virtual/BulletCtrl.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./CustomEventListener.ts","./BulletStorge.ts","./Login.ts"],(function(t){"use strict";var e,n,i,o,s,a,l,h,r,u,c,d,B,f,p,C,v,E,m,g,w;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.defineProperty,o=t.assertThisInitialized,s=t.initializerDefineProperty},function(t){a=t.cclegacy,l=t._decorator,h=t.Button,r=t.Prefab,u=t.Node,c=t.find,d=t.EditBox,B=t.Label,f=t.Vec3,p=t.instantiate,C=t.Color,v=t.Component},function(t){E=t.Constants},function(t){m=t.CustomEventListener},function(t){g=t.BulletStorge},function(t){w=t.Login}],execute:function(){var L,S,y,N,T,b,x,P,I;a._RF.push({},"576a1V12exOk6OZq1cyO6tA","BulletCtrl",void 0);var M=l.ccclass,F=l.property;t("BulletCtrl",(L=M("BulletCtrl"),S=F(h),y=F(r),N=F(u),L((x=e((b=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),l=0;l<n;l++)a[l]=arguments[l];return e=t.call.apply(t,[this].concat(a))||this,i(o(e),"human",null),i(o(e),"isShowBullet",null),i(o(e),"canEdit",!1),s(o(e),"switchBtn",x,o(e)),s(o(e),"bulletPrefab",P,o(e)),i(o(e),"editBox",null),i(o(e),"sendBtn",null),s(o(e),"showScreen",I,o(e)),i(o(e),"login",null),i(o(e),"waitChatRepose",!1),e}n(e,t);var a=e.prototype;return a.onLoad=function(){this.login=c("Login").getComponent(w),this.human=c("Canvas/Player/Human"),this.editBox=this.node.getChildByName("EditBox").getComponent(d),this.sendBtn=this.node.getChildByName("SendBtn").getComponent(h),this.initBullet(),this.initEditBox()},a.onEnable=function(){this.isShowBullet=!1,this.showBullet(),this.switchBtn.node.on(h.EventType.CLICK,this.showBullet,this),this.sendBtn.node.on(h.EventType.CLICK,this.sendMessage,this),m.on(E.VideoEvent.UNLOCKBULLET,this.unlockBullet,this),m.on(E.EventName.CHATSUCCESS,this.chatSucess,this),m.on(E.EventName.CHATFAIL,this.chatFail,this),m.on(E.EventName.UPDATEBULLET,this.updateBullet,this)},a.onDisable=function(){this.switchBtn.node.off(h.EventType.CLICK,this.showBullet,this),this.sendBtn.node.off(h.EventType.CLICK,this.sendMessage,this),m.off(E.VideoEvent.UNLOCKBULLET,this.unlockBullet,this),m.off(E.EventName.CHATSUCCESS,this.chatSucess,this),m.off(E.EventName.CHATFAIL,this.chatFail,this),m.off(E.EventName.UPDATEBULLET,this.updateBullet,this)},a.showBullet=function(){var t=this.switchBtn.node.children[0].getComponent(B);this.isShowBullet?(this.isShowBullet=!1,t.string="开弹幕",this.editBox.node.active=!1,this.sendBtn.node.active=!1,this.showScreen.active=!1):(this.isShowBullet=!0,t.string="关弹幕",this.editBox.node.active=!0,this.sendBtn.node.active=!0,this.showScreen.active=!0)},a.unlockBullet=function(){this.canEdit=!0,this.initEditBox()},a.initEditBox=function(){this.canEdit?this.editBox.placeholder="说点什么...":(this.editBox.string="",this.editBox.placeholder="视频解锁")},a.sendMessage=function(){var t=this.editBox.node.children[0].getComponent(B);if(this.waitChatRepose)m.dispatchEvent(E.EventName.CONFIRMTIP,"请慢一点,等待输入成功");else if(this.canEdit)if(""==t.string)m.dispatchEvent(E.EventName.CONFIRMTIP,"输入内容为空，请重新输入");else if(this.human){var e={posX:this.human.worldPosition.x.toFixed(2),posY:this.human.worldPosition.y.toFixed(2),name:"用户平台名称",mess:t.string},n=JSON.stringify(e);this.waitChatRepose=!0,this.login.chat(n)}else m.dispatchEvent(E.EventName.CONFIRMTIP,"找不到人物位置");else m.dispatchEvent(E.EventName.SHOWBULLETTIP)},a.checkCover=function(){return!1},a.chatFail=function(){this.waitChatRepose=!1,m.dispatchEvent(E.EventName.CONFIRMTIP,"当前没有网络连接！")},a.chatSucess=function(){this.waitChatRepose=!1,this.canEdit=!1,this.initEditBox()},a.initBullet=function(){var t=g.instance().getBulStorgeData();t&&this.updateBullet(t)},a.updateBullet=function(t){var e=this;t.forEach((function(t){if(!(t.posX&&t.posY&&t.name&&t.mess))return!0;var n=new f(t.posX,t.posY,0),i=t.name+":"+t.mess,o=p(e.bulletPrefab);o.parent=e.showScreen,o.setWorldPosition(n);var s=o.getComponent(B);s.color=e.randomColor(),s.string=i}))},a.randomColor=function(){var t=Math.round(255*Math.random()),e=Math.round(255*Math.random()),n=Math.round(255*Math.random());return new C(t,e,n)},a.spawnBullet=function(){},e}(v)).prototype,"switchBtn",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=e(b.prototype,"bulletPrefab",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(b.prototype,"showScreen",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=b))||T));a._RF.pop()}}}));

System.register("chunks:///_virtual/bulletTipCtrl.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,r,n,i,l,o,u,a;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,n=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){l=t.cclegacy,o=t._decorator,u=t.Node,a=t.Component}],execute:function(){var c,p,s,f,b,y,g;l._RF.push({},"5d704cFUGVFX5taTUHmJgpn","bulletTipCtrl",void 0);var _=o.ccclass,d=o.property;t("bulletTipCtrl",(c=_("bulletTipCtrl"),p=d(u),s=d(u),c((y=e((b=function(t){function e(){for(var e,r=arguments.length,l=new Array(r),o=0;o<r;o++)l[o]=arguments[o];return e=t.call.apply(t,[this].concat(l))||this,n(i(e),"return_Btn",y,i(e)),n(i(e),"agree_Btn",g,i(e)),e}r(e,t);var l=e.prototype;return l.onEnable=function(){},l.close=function(){this.node.active=!1},l.onDisable=function(){},e}(a)).prototype,"return_Btn",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=e(b.prototype,"agree_Btn",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=b))||f));l._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerCtrl.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./CustomEventListener.ts","./GameData.ts"],(function(t){"use strict";var e,i,n,o,r,a,s,h,l,m,d,c,u,p,g,y,f,C,v,B,T,w,P,_;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized,r=t.defineProperty},function(t){a=t.cclegacy,s=t._decorator,h=t.Prefab,l=t.Vec2,m=t.UITransform,d=t.Vec3,c=t.instantiate,u=t.Collider2D,p=t.RigidBody2D,g=t.sp,y=t.sys,f=t.input,C=t.Input,v=t.Contact2DType,B=t.misc,T=t.Component},function(t){w=t.Constants},function(t){P=t.CustomEventListener},function(t){_=t.RunTimeData}],execute:function(){var S,x,E,R,O;a._RF.push({},"63d4dWFtmRLJ48Qvk1AETrX","PlayerCtrl",void 0);var D=s.ccclass,L=s.property;t("PlayerCtrl",(S=D("PlayerCtrl"),x=L([h]),S((O=e((R=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a))||this,n(o(e),"hammer_Pr",O,o(e)),r(o(e),"endPos",null),r(o(e),"canmeraNode",null),r(o(e),"mouseTarget",null),r(o(e),"human",null),r(o(e),"hammer",null),r(o(e),"hammer_anchor",null),r(o(e),"ham_root_L",null),r(o(e),"ham_root_R",null),r(o(e),"hammerLen",null),r(o(e),"playerRig2D",null),r(o(e),"hammerRig2D",null),r(o(e),"mouseTarRig2D",null),r(o(e),"hammerCollider",null),r(o(e),"targetPosition",new l(0,0)),r(o(e),"playerSk",null),r(o(e),"playerSk_Data",null),r(o(e),"leftTarBone",null),r(o(e),"rightTarBone",null),r(o(e),"leftUpArmBone",null),r(o(e),"leftArmBone",null),r(o(e),"rightUpArmBone",null),r(o(e),"rightArmBone",null),r(o(e),"headBone",null),r(o(e),"left_MaxLen",null),r(o(e),"right_MaxLen",null),r(o(e),"isCollider",!1),r(o(e),"ScreenWidth",null),r(o(e),"ScreenHeight",null),r(o(e),"isOpenOperate",!1),e}i(e,t);var a=e.prototype;return a.eneterGame=function(t){var e=this.node.parent.getComponent(m).convertToWorldSpaceAR(new d(t.x,t.y,0));this.node.setWorldPosition(e.x,e.y,0),this.ScreenWidth=this.node.parent.getComponent(m).contentSize.width/2,this.ScreenHeight=this.node.parent.getComponent(m).contentSize.height/2,this.endPos=this.node.getChildByName("EndPos"),this.canmeraNode=this.node.parent.getChildByName("Camera"),this.mouseTarget=this.node.getChildByName("MouseTarget");var i=_.instance().euipedWeapon;this.hammer=this.node.getChildByName("Hammer"),this.hammer&&this.hammer.destroy(),this.hammer=c(this.hammer_Pr[i]),this.hammer.parent=this.node,this.human=this.node.getChildByName("Human"),this.hammer_anchor=this.hammer.getChildByName("Ham"),this.ham_root_L=this.hammer.getChildByName("RootLeft"),this.ham_root_R=this.hammer.getChildByName("RootRight");var n=this.hammer.getChildByName("Sprite").getComponent(m).contentSize.height;this.hammer.position=new d(this.endPos.position.x,this.endPos.position.y+n,0),this.hammerCollider=this.hammer.getComponent(u),this.hammerLen=this.hammer.getComponent(m).contentSize.height-this.hammer_anchor.getComponent(m).contentSize.height/2,this.playerRig2D=this.node.getComponent(p),this.hammerRig2D=this.hammer.getComponent(p),this.mouseTarRig2D=this.mouseTarget.getComponent(p),this.playerSk=this.human.getComponent(g.Skeleton),this.leftTarBone=this.playerSk.findBone("Left"),this.rightTarBone=this.playerSk.findBone("Right"),this.leftUpArmBone=this.playerSk.findBone("R_Up_arm"),this.leftArmBone=this.playerSk.findBone("R_arm"),this.rightUpArmBone=this.playerSk.findBone("L_Up_arm"),this.rightArmBone=this.playerSk.findBone("L_arm"),this.headBone=this.playerSk.findBone("Head"),this.left_MaxLen=this.leftUpArmBone.data.length+this.leftArmBone.data.length-5,this.right_MaxLen=this.rightUpArmBone.data.length+this.rightArmBone.data.length-0},a.restartGame=function(t){this.closeOperate(),this.hammer.destroy();var e=this.node.parent.getComponent(m).convertToWorldSpaceAR(new d(t.x,t.y,0));this.node.setWorldPosition(e.x,e.y,0)},a.openOperate=function(){this.playerRig2D.gravityScale=1,y.isMobile?(P.dispatchEvent(w.EventName.JOYSTICK,!0),P.on(w.EventName.MOVEJOYSTICK,this.moveJoyStick,this)):f.on(C.EventType.MOUSE_MOVE,this.moveMouse,this),this.hammerCollider.on(v.BEGIN_CONTACT,this.OnCollisionEnter,this),this.hammerCollider.on(v.END_CONTACT,this.OnCollisionExit,this),this.isOpenOperate=!0},a.closeOperate=function(){this.playerRig2D.gravityScale=0,y.hasFeature(y.Feature.EVENT_MOUSE)?f.off(C.EventType.MOUSE_MOVE,this.moveMouse,this):(P.dispatchEvent(w.EventName.JOYSTICK,!1),P.off(w.EventName.MOVEJOYSTICK,this.moveJoyStick,this)),this.hammerCollider.off(v.BEGIN_CONTACT,this.OnCollisionEnter,this),this.hammerCollider.off(v.END_CONTACT,this.OnCollisionExit,this)},a.moveJoyStick=function(t){var e=new l;e.x=this.human.worldPosition.x+1.5*t.x,e.y=this.human.worldPosition.y+1.5*t.y,this.targetPosition=e.clone()},a.moveMouse=function(t){var e=t.getUILocation(),i=new l(e.x-this.ScreenWidth+this.canmeraNode.worldPosition.x,e.y-this.ScreenHeight+this.canmeraNode.worldPosition.y);this.targetPosition=i.clone()},a.update=function(t){if(this.isOpenOperate){var e=new l(this.mouseTarget.worldPosition.x,this.mouseTarget.worldPosition.y),i=new l;l.subtract(i,this.targetPosition,e);var n=i.multiply2f(10*t,10*t);this.mouseTarRig2D.linearVelocity=n;var o=new l(this.hammer_anchor.worldPosition.x,this.hammer_anchor.worldPosition.y),r=this.calEndPos(this.targetPosition);this.endPos.worldPosition=new d(r.x,r.y,0);var a=new l;l.subtract(a,r,o),this.hammerRig2D.linearVelocity=a.multiply2f(10*t,10*t);var s=new l;l.subtract(s,r,new l(this.human.worldPosition.x,this.human.worldPosition.y+11));var h=s.normalize(),m=new l(0,1).signAngle(h),c=B.radiansToDegrees(m);if(this.hammer.angle=c,this.isCollider){var u=new l;l.subtract(u,new l(this.hammer_anchor.worldPosition.x,this.hammer_anchor.worldPosition.y),r);new l;this.playerRig2D.linearVelocity=u.multiply2f(10*t,10*t)}this.controlHuman()}},a.calEndPos=function(t){var e=t.clone(),i=new l(this.human.worldPosition.x,this.human.worldPosition.y+11),n=new l;l.subtract(n,e,i);var o=n.length()-this.hammerLen,r=0;if((o>=this.left_MaxLen||o>=this.right_MaxLen)&&(r=e.x<this.human.worldPosition.x?this.right_MaxLen+this.hammerLen:this.left_MaxLen+this.hammerLen),0!=r){var a=t.clone().subtract(i).normalize();l.add(e,i,a.multiplyScalar(r))}return e},a.controlHuman=function(){if(this.leftTarBone&&this.leftTarBone.parent){var t=this.human.getComponent(m).convertToNodeSpaceAR(this.ham_root_L.worldPosition);this.leftTarBone.parent.worldToLocal(new g.spine.Vector2(t.x,t.y)),this.leftTarBone.x=t.x,this.leftTarBone.y=t.y}if(this.rightTarBone&&this.rightTarBone.parent){var e=this.human.getComponent(m).convertToNodeSpaceAR(this.ham_root_R.worldPosition);this.rightTarBone.parent.worldToLocal(new g.spine.Vector2(e.x,e.y)),this.rightTarBone.x=e.x,this.rightTarBone.y=e.y}this.targetPosition.x<this.human.worldPosition.x?this.headBone.scaleY=1:this.headBone.scaleY=-1;var i=new l;l.subtract(i,this.targetPosition,new l(this.human.worldPosition.x,this.human.worldPosition.y+11));var n=i.normalize(),o=new l(0,1).signAngle(n),r=B.radiansToDegrees(o);r>0&&r<15?r=15:r<0&&r>-15?r=-15:r<180&&r>165?r=165:r>-180&&r<-165&&(r=-165),r<0&&(r+=180),this.headBone.rotation=r},a.OnCollisionEnter=function(t,e){2==e.tag&&(this.isCollider=!0,this.playerRig2D.gravityScale=0)},a.OnCollisionExit=function(t,e){2==e.tag&&this.isCollider&&0==this.playerRig2D.gravityScale&&(this.isCollider=!1,this.playerRig2D.gravityScale=1)},a.onDisable=function(){this.closeOperate()},e}(T)).prototype,"hammer_Pr",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),E=R))||E));a._RF.pop()}}}));

System.register("chunks:///_virtual/Constants.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var a,t,o;return{setters:[function(e){a=e.defineProperty},function(e){t=e.cclegacy,o=e._decorator}],execute:function(){var n,r,s;t._RF.push({},"6c73eXCCRpIbZdtQs7cNG8O","Constants",void 0);var u,c,l,i,C,m=o.ccclass;o.property;!function(e){e.JOYSTICK="joystick",e.MOVEJOYSTICK="move_JoyStick",e.SHOWCHOOSETIP="showChooseTips",e.CONFIRMTIP="confirmTip",e.TINYTIP="tinyTip",e.CHATSUCCESS="chatSuccess",e.CHATFAIL="chatFail",e.UPDATEBULLET="updateBullet",e.ENTERGAME="enterGame",e.LEAVEGAME="leaveGame",e.RESTARTGAME="restartGame",e.ENDGAME="endGame",e.PAUESEGAME="pauseGame",e.USEWEAPICON="useWeapIcon",e.SHOWWINGUI="showEndGui",e.SHOWBULLETTIP="showBulletTip",e.SHOWFAILGUI="showFailGui",e.CLOSEFAILGUI="closeFailGui",e.UPLOADSCORE="upload_score",e.UPLOADSUCEES="upload_sucess",e.UPLOADFAIL="upload_fail"}(u||(u={})),function(e){e.Hammer0="Hammer_1",e.Hammer1="Hammer_2",e.Hammer2="Hammer_3",e.Hammer3="Hammer_4",e.Hammer4="Hammer_5",e.Hammer5="Hammer_6"}(c||(c={})),function(e){e.CALLBACKSCORE="upLoadScore_callBack",e.UNLOCKBULLET="unlockBullet",e.UNLOCKWEAPON="unlockWeapon",e.SAVEPOINTSUC="savePointSuc"}(l||(l={})),function(e){e.BACKGROUND="background",e.CLICK="click",e.CRASH="crash",e.GETMONEY="getMoney",e.INCAR="inCar",e.NEWORDER="newOrder",e.START="start",e.STOP="stop",e.TOOTING1="tooting1",e.TOOTING2="tooting2",e.WIN="win"}(i||(i={})),function(e){e[e.NORMAL=1]="NORMAL",e[e.MAIN_CAR=2]="MAIN_CAR",e[e.OTHER_CAR=4]="OTHER_CAR"}(C||(C={}));e("Constants",m("Constants")((s=r=function(){},a(r,"EventName",u),a(r,"VideoEvent",l),a(r,"Weapons",c),a(r,"WeaponsNum",6),a(r,"talkTable",["Please hurry up.\n I have a plane to catch","The most beautiful day \nis not the rainy day"]),a(r,"UIPage",{mainUI:"mainUI",gameUI:"gameUI",resultUI:"resultUI"}),a(r,"GameConfigID","TAXI_GAME_CACHE"),a(r,"PlayerConfigID","playerInfo"),a(r,"MaxLevel",20),a(r,"BulletConfig","bulletStorge"),a(r,"BulletCursor","bulletCursor"),a(r,"GrounpId","TestWorld"),n=s))||n);t._RF.pop()}}}));

System.register("chunks:///_virtual/Configuration.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Constants.ts"],(function(t){"use strict";var n,a,e,i,s;return{setters:[function(t){n=t.defineProperty},function(t){a=t.cclegacy,e=t._decorator,i=t.sys},function(t){s=t.Constants}],execute:function(){var o,r,c;a._RF.push({},"79e72VxyLtKAYwSvayxsVmK","Configuration",void 0);var u=e.ccclass;e.property,t("Configuration",u("Configuration")((c=r=function(){function t(){n(this,"_jsonData",{}),n(this,"_markSave",!1)}t.instance=function(){return this._instance||(this._instance=new t),this._instance};var a=t.prototype;return a.init=function(){var t=i.localStorage.getItem(s.GameConfigID);t&&(this._jsonData=JSON.parse(t)),setInterval(this._scheduleSave.bind(this),500)},a.getConfigData=function(t){return this._jsonData[t]||""},a.setConfigData=function(t,n){this._jsonData[t]=n,this._markSave=!0,this._scheduleSave},a._scheduleSave=function(){if(this._markSave){var t=JSON.stringify(this._jsonData);i.localStorage.setItem(s.GameConfigID,t),this._markSave=!1}},t}(),n(r,"_instance",null),o=c))||o);a._RF.pop()}}}));

System.register("chunks:///_virtual/confirmTipCtrl.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./CustomEventListener.ts"],(function(t){"use strict";var n,e,i,o,r,s,c,a,l;return{setters:[function(t){n=t.inheritsLoose,e=t.defineProperty,i=t.assertThisInitialized},function(t){o=t.cclegacy,r=t._decorator,s=t.Button,c=t.Label,a=t.Component},function(t){l=t.CustomEventListener}],execute:function(){var h;o._RF.push({},"7aab5Sn64xLCKJOLskUPJDt","confirmTipCtrl",void 0);var u=r.ccclass;r.property,t("confirmTipCtrl",u("confirmTipCtrl")(h=function(t){function o(){for(var n,o=arguments.length,r=new Array(o),s=0;s<o;s++)r[s]=arguments[s];return n=t.call.apply(t,[this].concat(r))||this,e(i(n),"agreeBtn",null),e(i(n),"contextLb",null),e(i(n),"agereeEvent",null),n}n(o,t);var r=o.prototype;return r.onLoad=function(){this.agreeBtn=this.node.children[1].getComponent(s),this.contextLb=this.node.children[2].children[0].getComponent(c)},r.init=function(t,n){this.contextLb.string=t,n?(this.agreeBtn.node.on(s.EventType.CLICK,this.confirm,this),this.agereeEvent=n):this.agreeBtn.node.on(s.EventType.CLICK,this.close,this)},r.confirm=function(){l.dispatchEvent(this.agereeEvent),this.close()},r.close=function(){this.node.active=!1},r.onDisable=function(){this.contextLb.string="",this.agreeBtn.node.off(s.EventType.CLICK)},o}(a))||h);o._RF.pop()}}}));

System.register("chunks:///_virtual/Login.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./CustomEventListener.ts","./BulletStorge.ts"],(function(t){"use strict";var e,s,n,i,o,c,l,a,h,r;return{setters:[function(t){e=t.inheritsLoose,s=t.defineProperty,n=t.assertThisInitialized},function(t){i=t.cclegacy,o=t._decorator,c=t.sys,l=t.Component},function(t){a=t.Constants},function(t){h=t.CustomEventListener},function(t){r=t.BulletStorge}],execute:function(){var u;i._RF.push({},"7ea40N24btILbDMEMDJd+Rx","Login",void 0);var f=o.ccclass,g=(o.property,"TwoDogTime");t("Login",f("Login")(u=function(t){function i(){for(var e,i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];return e=t.call.apply(t,[this].concat(o))||this,s(n(e),"client",null),s(n(e),"socket",null),s(n(e),"session",null),s(n(e),"channelID",null),s(n(e),"authtoken",null),s(n(e),"labTxt",null),s(n(e),"listCursor",null),s(n(e),"listBullet",new Array),s(n(e),"listBoard",new Array),s(n(e),"joinChat",!1),s(n(e),"chatSucess",!1),s(n(e),"chatConnect",0),s(n(e),"getBoardFail",!1),e}e(i,t);var o=i.prototype;return o.onLoad=function(){this.initLitsBullet(),this.initClinet(),this.initSession(),this.initSocket(),this.chatConnect=0,this.schedule((function(){this.chatConnect++,this.joinChat||this.client&&this.session&&this.socket&&this.checkChat()}),1,10)},o.onEnable=function(){h.on(a.EventName.UPLOADSCORE,this.upLoadScore,this)},o.onDisable=function(){h.off(a.EventName.UPLOADSCORE,this.upLoadScore,this)},o.initLitsBullet=function(){this.listCursor=r.instance().getCursor()},o.getListBullet=function(){var t=this;this.client.listChannelMessages(this.session,this.channelID,100,!0,this.listCursor).then((function(e){console.log(" getListBullet success"),console.log(e),t.closeSocket(),e.cacheable_cursor&&(t.listCursor=e.cacheable_cursor,r.instance().updateCursor(t.listCursor)),e.messages&&(e.messages.forEach((function(e){if(e.content){var s=e.content.message;s&&t.listBullet.push(s)}})),t.updateListStorge())}),(function(e){t.closeSocket(),console.log(" auth error "+JSON.stringify(e))}))},o.updateListStorge=function(){this.listBullet&&(r.instance().addBullet(this.listBullet),this.listBullet=[])},o.initClinet=function(){if(!this.client){console.log("Start Login");this.client=new nakamajs.Client("defaultkey","127.0.0.1",7350,!1,7e3)}},o.initSession=function(){this.session||(this.client.authenticateCustom("test_id",!0,"").then((function(t){console.log(" auth success"),c.localStorage.setItem("nkauthtoken",t.token)}),(function(t){console.log(" auth error "+JSON.stringify(t))})).catch((function(t){console.log(" auth exception: // "+t)})),this.authtoken=c.localStorage.getItem("nkauthtoken"),this.session=nakamajs.Session.restore(this.authtoken),console.log(this.session))},o.initSocket=function(){if(this.socket){if(this.socket.adapter._isConnected)return;this.socket.connect(this.session)}this.socket=this.client.createSocket(!1,!1),this.socket.ondisconnect=function(t){console.log("Disconnected from the server. Event:",JSON.stringify(t))},this.socket.connect(this.session,!1).then((function(){console.log("Socket Connected")}),(function(t){console.error("connect failed:",JSON.stringify(t))})),console.log(this.socket)},o.closeSocket=function(){this.socket.disconnect(),this.channelID=null},o.checkSession=function(){this.session.isexpired(Date.now()/1e3)&&(this.session=nakamajs.Session.restore(this.authtoken))},o.checkChat=function(t){var e=this;this.checkSession();var s=this;this.channelID?(this.joinChat=!0,t?s.sendChatMessage(t):s.getListBullet()):this.socket.joinChat(a.GrounpId,1,!0,!1).then((function(e){console.log("Successfully joined channel:",e),s.channelID=e.id,s.joinChat=!0,t?s.sendChatMessage(t):s.getListBullet()}),(function(n){10===e.chatConnect&&(s.closeSocket(),t&&h.dispatchEvent(a.EventName.CHATFAIL),console.error("Join channel failed!Connect try end!")),console.error("join channel failed:",JSON.stringify(n))}))},o.chat=function(t){this.chatSucess=!1,this.joinChat=!1,console.log(this.client),console.log(this.session),console.log(this.socket),this.initClinet(),this.initSession(),this.initSocket(),this.chatConnect=0,this.schedule((function(){this.joinChat||this.client&&this.session&&this.socket&&this.checkChat(t)}),1,10)},o.sendChatMessage=function(t){console.log("this.channelID:",this.channelID);var e=this;this.socket.writeChatMessage(this.channelID,{message:t}).then((function(t){console.log("Successfully sent chat message:",JSON.stringify(t)),e.getListBullet(),h.dispatchEvent(a.EventName.CHATSUCCESS)}),(function(t){e.closeSocket(),h.dispatchEvent(a.EventName.CHATFAIL),console.error("send message failed:",JSON.stringify(t))}))},o.upLoadScore=function(){var t=this;this.initClinet(),this.initSession(),this.initSocket();this.client.writeLeaderboardRecord(this.session,g,120).then((function(e){t.getBoardList(),console.log("Successfully uplaod score"),h.dispatchEvent(a.EventName.UPLOADSUCEES,!0)}),(function(e){t.getBoardList(),h.dispatchEvent(a.EventName.UPLOADSUCEES,!1),h.dispatchEvent(a.EventName.TINYTIP,"分数上传排行榜失败，请检查您的网络后重试"),console.error("Uplaod score failed!",JSON.stringify(e))}))},o.getBoardList=function(){var t=this;this.client.listLeaderboardRecords(this.session,g,null,25).then((function(t){console.log("Successfully get learnBoardList"),console.log(t)}),(function(e){t.getBoardFail=!0,console.error("Get learnBoardList failed!",JSON.stringify(e))}))},i}(l))||u);i._RF.pop()}}}));

System.register("chunks:///_virtual/InGameScreen.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./CustomEventListener.ts","./AnalogStickCtrl.ts"],(function(t){"use strict";var n,e,o,i,c,r,s,a,l;return{setters:[function(t){n=t.inheritsLoose,e=t.defineProperty,o=t.assertThisInitialized},function(t){i=t.cclegacy,c=t._decorator,r=t.Component},function(t){s=t.Constants},function(t){a=t.CustomEventListener},function(t){l=t.AnalogStickCtrl}],execute:function(){var u;i._RF.push({},"87d04I26TBLeYXsHLyKDrGE","InGameScreen",void 0);var S=c.ccclass;c.property,t("InGameScreen",S("InGameScreen")(u=function(t){function i(){for(var n,i=arguments.length,c=new Array(i),r=0;r<i;r++)c[r]=arguments[r];return n=t.call.apply(t,[this].concat(c))||this,e(o(n),"joyStickCtrl",null),n}n(i,t);var c=i.prototype;return c.onLoad=function(){a.on(s.EventName.JOYSTICK,this.joyStickEnable,this)},c.onEnable=function(){},c.joyStickEnable=function(t){console.log("joyStickEnable"),this.joyStickCtrl||(this.joyStickCtrl=this.node.getChildByName("AnalogStick").getComponent(l)),this.joyStickCtrl.node.active=!!t},c.onDisable=function(){a.off(s.EventName.JOYSTICK,this.joyStickEnable,this)},i}(r))||u);i._RF.pop()}}}));

System.register("chunks:///_virtual/BulletStorge.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./CustomEventListener.ts"],(function(t){"use strict";var e,n,r,s,o,a;return{setters:[function(t){e=t.defineProperty},function(t){n=t.cclegacy,r=t._decorator,s=t.sys},function(t){o=t.Constants},function(t){a=t.CustomEventListener}],execute:function(){var u,i,c;n._RF.push({},"8850fcfLZ5DW7eXMUu3ZCYP","BulletStorge",void 0);var l=r.ccclass;r.property,t("BulletStorge",l("BulletStorge")((c=i=function(){function t(){e(this,"_jsonData",new Array),e(this,"_markSave",!1),e(this,"_cursor",null)}t.instance=function(){return this._instance||(this._instance=new t),this._instance};var n=t.prototype;return n.init=function(){var t=s.localStorage.getItem(o.BulletConfig);localStorage&&(this._jsonData=JSON.parse(t),this._cursor=s.localStorage.getItem(o.BulletCursor))},n.getBulStorgeData=function(){return this._jsonData||""},n.addBullet=function(t){var e=this,n=new Array;t.forEach((function(t){var r=JSON.parse(t);r.posX&&r.posY&&r.name&&r.mess&&(e._jsonData.push(r),n.push(r))}));var r=JSON.stringify(this._jsonData);a.dispatchEvent(o.EventName.UPDATEBULLET,n),s.localStorage.setItem(o.BulletConfig,r)},n.updateCursor=function(t){this._cursor=t,s.localStorage.setItem(o.BulletCursor,this._cursor)},n.getCursor=function(){return this._cursor},t}(),e(i,"_instance",void 0),u=c))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/winGuiCtrl.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./CustomEventListener.ts"],(function(t){"use strict";var n,e,i,o,a,r,s,u,c,l,p,h;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized,a=t.defineProperty},function(t){r=t.cclegacy,s=t._decorator,u=t.Node,c=t.Label,l=t.Component},function(t){p=t.Constants},function(t){h=t.CustomEventListener}],execute:function(){var d,f,S,C,E,v,_;r._RF.push({},"a0b103N8iZIOp8LW+43WwoV","winGuiCtrl",void 0);var T=s.ccclass,L=s.property;t("winGuiCtrl",(d=T("winGuiCtrl"),f=L(u),S=L(u),d((v=n((E=function(t){function n(){for(var n,e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return n=t.call.apply(t,[this].concat(r))||this,i(o(n),"returnMan_Btn",v,o(n)),i(o(n),"uploadScore_Btn",_,o(n)),a(o(n),"isCanUplaod",!1),a(o(n),"isUploadSucess",!1),a(o(n),"isWaitingUpload",!1),n}e(n,t);var r=n.prototype;return r.onEnable=function(){this.returnMan_Btn.on(u.EventType.TOUCH_START,this.restartGame,this),this.uploadScore_Btn.on(u.EventType.TOUCH_START,this.upLoadScore,this),h.on(p.EventName.UPLOADSUCEES,this.uploadSucess,this),h.on(p.VideoEvent.CALLBACKSCORE,this.upLoadScore_callBack,this)},r.onDisable=function(){this.returnMan_Btn.off(u.EventType.TOUCH_START,this.restartGame,this),this.uploadScore_Btn.off(u.EventType.TOUCH_START,this.upLoadScore,this),h.off(p.EventName.UPLOADSUCEES,this.uploadSucess,this),h.off(p.VideoEvent.CALLBACKSCORE,this.upLoadScore_callBack,this)},r.restartGame=function(){h.dispatchEvent(p.EventName.RESTARTGAME),this.node.active=!1},r.upLoadScore=function(){this.isCanUplaod&&(this.isWaitingUpload?h.dispatchEvent(p.EventName.TINYTIP,"正在上传。。。"):(this.isWaitingUpload=!0,h.dispatchEvent(p.EventName.UPLOADSCORE)))},r.upLoadScore_callBack=function(){this.isCanUplaod=!0},r.uploadSucess=function(t){this.isWaitingUpload=!1,t&&(this.uploadScore_Btn.active=!1,this.returnMan_Btn.children[1].getComponent(c).string="上传成功")},n}(l)).prototype,"returnMan_Btn",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=n(E.prototype,"uploadScore_Btn",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=E))||C));r._RF.pop()}}}));

System.register("chunks:///_virtual/SeaPointCtrl.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./CustomEventListener.ts"],(function(t){"use strict";var e,i,n,o,s,r,a,c,l,u,h;return{setters:[function(t){e=t.inheritsLoose,i=t.defineProperty,n=t.assertThisInitialized},function(t){o=t.cclegacy,s=t._decorator,r=t.RigidBody2D,a=t.BoxCollider2D,c=t.Contact2DType,l=t.Component},function(t){u=t.Constants},function(t){h=t.CustomEventListener}],execute:function(){var g;o._RF.push({},"a507dAtjPJEA7A6zjcg5wK+","SeaPointCtrl",void 0);var d=s.ccclass;s.property,t("SeaPointCtrl",d("SeaPointCtrl")(g=function(t){function o(){for(var e,o=arguments.length,s=new Array(o),r=0;r<o;r++)s[r]=arguments[r];return e=t.call.apply(t,[this].concat(s))||this,i(n(e),"isTrigger",!1),i(n(e),"rig2D",null),i(n(e),"collider",null),e}e(o,t);var s=o.prototype;return s.onEnable=function(){this.rig2D=this.node.getComponent(r),this.rig2D.enabledContactListener=!0,this.collider=this.node.getComponent(a),this.isTrigger=!1,this.collider.on(c.BEGIN_CONTACT,this.seaPoint,this)},s.seaPoint=function(t,e,i){1!=e.tag||this.isTrigger||(this.isTrigger=!0,h.dispatchEvent(u.EventName.PAUESEGAME),h.dispatchEvent(u.EventName.SHOWFAILGUI))},s.onDisable=function(){this.collider.off(c.BEGIN_CONTACT,this.seaPoint,this),this.rig2D.enabledContactListener=!1},o}(l))||g);o._RF.pop()}}}));

System.register("chunks:///_virtual/failGuiCtrl.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./CustomEventListener.ts"],(function(t){"use strict";var e,n,i,r,o,a,s,u,l,c,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized,o=t.defineProperty},function(t){a=t.cclegacy,s=t._decorator,u=t.Node,l=t.Component},function(t){c=t.Constants},function(t){p=t.CustomEventListener}],execute:function(){var f,h,d,v,T,_,y;a._RF.push({},"a516exI0WFHPoPSZLBm5r6y","failGuiCtrl",void 0);var C=s.ccclass,E=s.property;t("failGuiCtrl",(f=C("failGuiCtrl"),h=E(u),d=E(u),f((_=e((T=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a))||this,i(r(e),"returnMan_Btn",_,r(e)),i(r(e),"uploadScore_Btn",y,r(e)),o(r(e),"isCanUplaod",!1),o(r(e),"isUploadSucess",!1),o(r(e),"isWaitingUpload",!1),e}n(e,t);var a=e.prototype;return a.onEnable=function(){this.returnMan_Btn.on(u.EventType.TOUCH_START,this.restartGame,this),this.uploadScore_Btn.on(u.EventType.TOUCH_START,this.watchVideo,this),p.on(c.EventName.CLOSEFAILGUI,this.closeFailGui,this)},a.onDisable=function(){this.returnMan_Btn.off(u.EventType.TOUCH_START,this.restartGame,this),this.uploadScore_Btn.off(u.EventType.TOUCH_START,this.watchVideo,this),p.off(c.EventName.CLOSEFAILGUI,this.closeFailGui,this)},a.restartGame=function(){p.dispatchEvent(c.EventName.RESTARTGAME),this.node.active=!1},a.watchVideo=function(){},a.closeFailGui=function(){this.node.active=!1},e}(l)).prototype,"returnMan_Btn",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=e(T.prototype,"uploadScore_Btn",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=T))||v));a._RF.pop()}}}));

System.register("chunks:///_virtual/rankGuiCtrl.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Login.ts"],(function(t){"use strict";var e,n,i,r,o,l,a,s,c,u,p,f,h,b,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized,o=t.defineProperty},function(t){l=t.cclegacy,a=t._decorator,s=t.Prefab,c=t.Node,u=t.ScrollViewComponent,p=t.Label,f=t.find,h=t.instantiate,b=t.Component},function(t){g=t.Login}],execute:function(){var m,y,d,_,v,C,L,k,T,P,S;l._RF.push({},"a624fSvSs5NU7001S1+3kvp","rankGuiCtrl",void 0);var w=a.ccclass,z=a.property;t("rankGuiCtrl",(m=w("rankGuiCtrl"),y=z(s),d=z(c),_=z(u),v=z(p),m((k=e((L=function(t){function e(){for(var e,n=arguments.length,l=new Array(n),a=0;a<n;a++)l[a]=arguments[a];return e=t.call.apply(t,[this].concat(l))||this,i(r(e),"itemPrefab",k,r(e)),i(r(e),"close_btn",T,r(e)),i(r(e),"rank_scroll",P,r(e)),i(r(e),"emptyLab",S,r(e)),o(r(e),"_login",null),e}n(e,t);var l=e.prototype;return l.onLoad=function(){this._login=f("Login").getComponent(g)},l.onEnable=function(){this.close_btn.on(c.EventType.TOUCH_START,this.close,this);var t=this._login.listBoard.length;if(t<=0)this.emptyLab.node.active=!0,this._login.getBoardFail?this.emptyLab.string="网络连接失败,未能成功读取排行榜":this.emptyLab.string="空空如也，就等你来上榜了~~";else{this.emptyLab.node.active=!1;var e,n=this.rank_scroll.content;for(n.children.forEach((function(e){Number(e.name)>=t&&e.destroy()})),e=0;e<t;e++){var i=e,r=n.getChildByName(i);r||((r=h(this.itemPrefab)).parent=n,r.name=e),r.children[0].getComponent(p).string=e+1,r.children[1].getComponent(p).string=this._login.listBoard[e].name,r.children[2].getComponent(p).string=this._login.listBoard[e].score}}},l.close=function(){this.node.active=!1},l.onDisable=function(){this.close_btn.off(c.EventType.TOUCH_START,this.close,this)},e}(b)).prototype,"itemPrefab",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=e(L.prototype,"close_btn",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=e(L.prototype,"rank_scroll",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=e(L.prototype,"emptyLab",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=L))||C));l._RF.pop()}}}));

System.register("chunks:///_virtual/TipsScreenCtrl.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./CustomEventListener.ts","./tinyTipCtrl.ts","./chooseTipCtrl.ts","./confirmTipCtrl.ts","./winGuiCtrl.ts","./failGuiCtrl.ts"],(function(i){"use strict";var t,s,n,o,e,h,u,c,p,T,r,l,a;return{setters:[function(i){t=i.inheritsLoose,s=i.defineProperty,n=i.assertThisInitialized},function(i){o=i.cclegacy,e=i._decorator,h=i.Component},function(i){u=i.Constants},function(i){c=i.CustomEventListener},function(i){p=i.tinyTipCtrl},function(i){T=i.chooseTipCtrl},function(i){r=i.confirmTipCtrl},function(i){l=i.winGuiCtrl},function(i){a=i.failGuiCtrl}],execute:function(){var f;o._RF.push({},"aebdf2fvkZFQbJpR/yhQhIM","TipsScreenCtrl",void 0);var C=e.ccclass;e.property,i("TipsCtrl",C("TipsCtrl")(f=function(i){function o(){for(var t,o=arguments.length,e=new Array(o),h=0;h<o;h++)e[h]=arguments[h];return t=i.call.apply(i,[this].concat(e))||this,s(n(t),"chooseTips",null),s(n(t),"confirmTips",null),s(n(t),"winGui",null),s(n(t),"bulletTip",null),s(n(t),"tinyTip",null),s(n(t),"failGui",null),s(n(t),"curTips",null),t}t(o,i);var e=o.prototype;return e.start=function(){this.curTips=null,this.chooseTips=this.node.getChildByName("ChoosTips").getComponent(T),this.confirmTips=this.node.getChildByName("ConfirmTips").getComponent(r),this.winGui=this.node.getChildByName("WinTips").getComponent(l),this.failGui=this.node.getChildByName("FailTips").getComponent(a),this.tinyTip=this.node.getChildByName("TinyTip").getComponent(p),c.on(u.EventName.SHOWCHOOSETIP,this.showChooseTips,this),c.on(u.EventName.CONFIRMTIP,this.showConfirmTips,this),c.on(u.EventName.SHOWWINGUI,this.showWinGui,this),c.on(u.EventName.SHOWFAILGUI,this.showFailGui,this),c.on(u.EventName.SHOWBULLETTIP,this.showBulletTip,this),c.on(u.EventName.TINYTIP,this.showTinyTip,this)},e.onDisable=function(){c.off(u.EventName.SHOWCHOOSETIP,this.showChooseTips,this),c.off(u.EventName.CONFIRMTIP,this.showConfirmTips,this),c.off(u.EventName.SHOWWINGUI,this.showWinGui,this),c.off(u.EventName.SHOWFAILGUI,this.showFailGui,this),c.off(u.EventName.SHOWBULLETTIP,this.showBulletTip,this),c.off(u.EventName.TINYTIP,this.showTinyTip,this)},e.showChooseTips=function(i,t){this.curTips&&(this.curTips.active=!1),this.curTips=this.chooseTips.node,this.chooseTips.node.active=!0,this.chooseTips.init(i,t)},e.showConfirmTips=function(i,t){this.curTips&&(this.curTips.active=!1),this.curTips=this.confirmTips.node,this.confirmTips.node.active=!0,this.confirmTips.init(i,t)},e.showWinGui=function(){this.curTips&&(this.curTips.active=!1),this.curTips=this.winGui.node,this.winGui.node.active=!0},e.showFailGui=function(){this.curTips&&(this.curTips.active=!1),this.curTips=this.failGui.node,this.failGui.node.active=!0},e.showBulletTip=function(){this.curTips&&(this.curTips.active=!1),this.curTips=this.bulletTip.node,this.bulletTip.node.active=!0},e.showTinyTip=function(i){this.tinyTip.node.active=!0,this.tinyTip.show(i)},o}(h))||f);o._RF.pop()}}}));

System.register("chunks:///_virtual/AnalogStickCtrl.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./CustomEventListener.ts"],(function(t){"use strict";var i,n,e,o,s,c,h,r,a,l,u,S;return{setters:[function(t){i=t.inheritsLoose,n=t.defineProperty,e=t.assertThisInitialized},function(t){o=t.cclegacy,s=t._decorator,c=t.UITransform,h=t.Vec3,r=t.Node,a=t.Vec2,l=t.Component},function(t){u=t.Constants},function(t){S=t.CustomEventListener}],execute:function(){var g;o._RF.push({},"b9940oagVtLJpy/OGUZAvMy","AnalogStickCtrl",void 0);var p=s.ccclass;s.property,t("AnalogStickCtrl",p("AnalogStickCtrl")(g=function(t){function o(){for(var i,o=arguments.length,s=new Array(o),c=0;c<o;c++)s[c]=arguments[c];return i=t.call.apply(t,[this].concat(s))||this,n(e(i),"bgStick",null),n(e(i),"coreStick",null),n(e(i),"bgTransform",null),n(e(i),"max_R",null),n(e(i),"ScreenWidth",null),n(e(i),"ScreenHeight",null),i}i(o,t);var s=o.prototype;return s.onEnable=function(){this.ScreenWidth=this.node.parent.getComponent(c).contentSize.width/2,this.ScreenHeight=this.node.parent.getComponent(c).contentSize.height/2,this.bgStick=this.node.children[0],this.coreStick=this.bgStick.children[0],this.coreStick.position=new h(0,0,0),this.bgTransform=this.bgStick.getComponent(c),this.max_R=this.bgTransform.contentSize.width/2,this.bgStick.on(r.EventType.TOUCH_START,this.startTouch,this),this.bgStick.on(r.EventType.TOUCH_MOVE,this.moveTouch,this)},s.startTouch=function(t){console.log("startTouch"),this.moveStick(t)},s.moveTouch=function(t){this.moveStick(t)},s.moveStick=function(t){var i=t.getUILocation(),n=new a(i.x-this.ScreenWidth,i.y-this.ScreenHeight),e=new a(n.x-this.bgStick.position.x,n.y-this.bgStick.position.y),o=e.length();o>this.max_R&&(e.x=this.max_R*e.x/o,e.y=this.max_R*e.y/o),this.coreStick.setPosition(new h(e.x,e.y,0)),S.dispatchEvent(u.EventName.MOVEJOYSTICK,e)},s.onDisable=function(){this.bgStick.off(r.EventType.TOUCH_START,this.startTouch,this),this.bgStick.off(r.EventType.TOUCH_MOVE,this.moveTouch,this)},o}(l))||g);o._RF.pop()}}}));

System.register("chunks:///_virtual/StartScreen.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./CustomEventListener.ts"],(function(t){"use strict";var e,n,i,r,o,a,s,u,c,l,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized,o=t.defineProperty},function(t){a=t.cclegacy,s=t._decorator,u=t.Node,c=t.Component},function(t){l=t.Constants},function(t){h=t.CustomEventListener}],execute:function(){var _,p,T,f,G,S,m,v,w,y,b,E,R,B,d,C,A;a._RF.push({},"d0b67jkRj9AkIYRiD2I8I/z","StartScreen",void 0);var k=s.ccclass,H=s.property;t("StartScreen",(_=k("StartScreen"),p=H(u),T=H(u),f=H(u),G=H(u),S=H(u),m=H(u),v=H(u),_((b=e((y=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a))||this,i(r(e),"start_Game_Btn",b,r(e)),i(r(e),"reStart_Game_Btn",E,r(e)),i(r(e),"show_Rank_Btn",R,r(e)),i(r(e),"show_Shop_Btn",B,r(e)),i(r(e),"collect_Game_Btn",d,r(e)),i(r(e),"weapon_Shop_Gui",C,r(e)),i(r(e),"rank_Gui",A,r(e)),o(r(e),"curNode",null),e}n(e,t);var a=e.prototype;return a.onLoad=function(){},a.onEnable=function(){this.start_Game_Btn.on(u.EventType.TOUCH_START,this.startGame,this),this.reStart_Game_Btn.on(u.EventType.TOUCH_START,this.restartGame,this),this.show_Rank_Btn.on(u.EventType.TOUCH_START,this.showRankGui,this),this.show_Shop_Btn.on(u.EventType.TOUCH_START,this.showShopGui,this),this.collect_Game_Btn.on(u.EventType.TOUCH_START,this.collectGame,this)},a.start=function(){},a.startGame=function(){h.dispatchEvent(l.EventName.ENTERGAME)},a.restartGame=function(){h.dispatchEvent(l.EventName.SHOWCHOOSETIP,"重新开始将丢失当前进度，是否确认？",l.EventName.RESTARTGAME)},a.showRankGui=function(){this.curNode&&(this.curNode.active=!1),this.curNode=this.rank_Gui,this.rank_Gui.active=!0},a.showShopGui=function(){this.curNode&&(this.curNode.active=!1),this.curNode=this.weapon_Shop_Gui,this.weapon_Shop_Gui.active=!0},a.collectGame=function(){},a.onDisable=function(){this.start_Game_Btn.off(u.EventType.TOUCH_START,this.startGame,this),this.reStart_Game_Btn.off(u.EventType.TOUCH_START,this.restartGame,this),this.show_Rank_Btn.off(u.EventType.TOUCH_START,this.showRankGui,this),this.show_Shop_Btn.off(u.EventType.TOUCH_START,this.showShopGui,this),this.collect_Game_Btn.off(u.EventType.TOUCH_START,this.collectGame,this)},e}(c)).prototype,"start_Game_Btn",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(y.prototype,"reStart_Game_Btn",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(y.prototype,"show_Rank_Btn",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=e(y.prototype,"show_Shop_Btn",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=e(y.prototype,"collect_Game_Btn",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(y.prototype,"weapon_Shop_Gui",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=e(y.prototype,"rank_Gui",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=y))||w));a._RF.pop()}}}));

System.register("chunks:///_virtual/GameData.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./Configuration.ts"],(function(n){"use strict";var e,t,i,a,o,r,s;return{setters:[function(n){e=n.defineProperty,t=n.createClass},function(n){i=n.cclegacy,a=n._decorator,o=n.Vec2},function(n){r=n.Constants},function(n){s=n.Configuration}],execute:function(){var c,f,p,u,l,y;i._RF.push({},"f8e31Qnpk9LLa1qLA6RWY+4","GameData",void 0);var h=a.ccclass,v=(a.property,n("RunTimeData",h("RunTimeData")((p=f=function(){function n(){e(this,"playerData",null),e(this,"currProgress",0),e(this,"maxProgress",0),e(this,"isTakeOver",!0),e(this,"money",0),this.playerData=v.instance()}return n.instance=function(){return this._instance||(this._instance=new n),this._instance},t(n,[{key:"curPosition",get:function(){return this.playerData.playerInfo.position}},{key:"gameTime",get:function(){return this.playerData.playerInfo.time}},{key:"revivePoint",get:function(){return this.playerData.playerInfo.revivePoint}},{key:"ownWeapon",get:function(){return this.playerData.playerInfo.ownWeapons}},{key:"euipedWeapon",get:function(){return this.playerData.playerInfo.euipedWeap}}]),n}(),e(f,"_instance",null),c=p))||c),n("PlayerData",h("PlayerData")((y=l=function(){function n(){e(this,"playerInfo",{position:new o(-110,-115),time:0,revivePoint:0,ownWeapons:[0],euipedWeap:0})}n.instance=function(){return this._instance||(this._instance=new n),this._instance};var t=n.prototype;return t.loadFromCache=function(){var n=s.instance().getConfigData(r.PlayerConfigID);n&&(this.playerInfo=JSON.parse(n))},t.saveGameTime=function(n){this.playerInfo.time=n},t.savePlayePos=function(n){this.playerInfo.position=new o(n.x,n.y)},t.saveOwnWeapon=function(n){var e=!1;this.playerInfo.ownWeapons.forEach((function(t){t==n&&(e=!0)})),e||this.playerInfo.ownWeapons.push(n)},t.saverevivePoint=function(n){n>this.playerInfo.revivePoint&&(this.playerInfo.revivePoint=n)},t.saveEuipedWeap=function(n){this.playerInfo.euipedWeap=n},t.savePlayerInfoToCache=function(){var n=JSON.stringify(this.playerInfo);s.instance().setConfigData(r.PlayerConfigID,n)},t.recoverPlayerInfo=function(){this.playerInfo.position=new o(-110,-115),this.playerInfo.time=0,this.playerInfo.revivePoint=0;var n=JSON.stringify(this.playerInfo);s.instance().setConfigData(r.PlayerConfigID,n)},n}(),e(l,"_instance",null),u=y))||u));i._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./CameraCtrl.ts","./Constants.ts","./CustomEventListener.ts","./shopItemCtrl.ts","./tinyTipCtrl.ts","./Configuration.ts","./GameData.ts","./SavePointCtrl.ts","./EndPointCtrl.ts","./scoreCtrl.ts","./chooseTipCtrl.ts","./shopGuiCtrl.ts","./postion.ts","./Test.ts","./AnalogStickCtrl.ts","./InGameScreen.ts","./PlayerCtrl.ts","./StartScreen.ts","./Main.ts","./BulletStorge.ts","./Login.ts","./BulletCtrl.ts","./bulletTipCtrl.ts","./confirmTipCtrl.ts","./winGuiCtrl.ts","./SeaPointCtrl.ts","./failGuiCtrl.ts","./rankGuiCtrl.ts","./TipsScreenCtrl.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});